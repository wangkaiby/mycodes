<html>
    <!-- 我们已经知道如何实现数据的双向绑定了，　那么首先要对数据进行劫持监听，所以我们首先要设置一个监听器Observer,用来监听所有的属性，当属性变化时，就需要通知订阅者Watcher,看是否需要更新．因为属性可能是多个，所以会有多个订阅者，故我们需要一个消息订阅器Dep来专门收集这些订阅者，并在监听器Observer和订阅者Watcher之间进行统一的管理．以为在节点元素上可能存在一些指令，所以我们还需要有一个指令解析器Compile，对每个节点元素进行扫描和解析，将相关指令初始化成一个订阅者Watcher，并替换模板数据并绑定相应的函数，这时候当订阅者Watcher接受到相应属性的变化，就会执行相对应的更新函数，从而更新视图．

    整理上面的思路，我们需要实现三个步骤，来完成双向绑定：
    
    1.实现一个监听器Observer，用来劫持并监听所有属性，如果有变动的，就通知订阅者。
    
    2.实现一个订阅者Watcher，可以收到属性的变化通知并执行相应的函数，从而更新视图。
    
    3.实现一个解析器Compile，可以扫描和解析每个节点的相关指令，并根据初始化模板数据以及初始化相应的订阅器。 -->
    <body>
        <h1 id="name"{{name}}></h1>
    </body>
    
    <script src="./ob.js"></script>
    <script src="./watch.js"></script>
    <script src="./SelfVue.js"></script>
    
    <script>
         var ele = document.querySelector('#name');
         var selfVue = new SelfVue({
             name:'hello world'
         },ele,'name');
         window.setTimeout(function() {
             console.log('name值改变了');
             console.log(selfVue)
         selfVue.data.name = 'byebye world';
         },2000);
    </script>
</html>
